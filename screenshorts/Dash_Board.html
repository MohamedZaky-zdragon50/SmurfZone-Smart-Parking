<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SmurfZone Parking</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<style>
/* ===== Global ===== */
body{
  margin:0;
  font-family: "Segoe UI", Tahoma, Arial, sans-serif;
  background: linear-gradient(135deg,#0f172a,#1e293b);
  color:#e5e7eb;
}
/* ===== Header ===== */
.header{
  background:#020617;
  padding:22px 30px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
}
.logo{
  font-size:34px;
}
.header h1{
  margin:0;
  font-size:26px;
  letter-spacing:1px;
  color:#38bdf8;
}
/* ===== Container ===== */
.container{
  padding:35px 20px;
  max-width:1100px;
  margin:auto;
  min-height:calc(100vh - 160px);
}
/* ===== Parking Spots ===== */
.spots{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:28px;
  margin-top:30px;
}
.spot{
  height:150px;
  border-radius:22px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-size:18px;
  font-weight:600;
  letter-spacing:0.5px;
  transition:all 0.3s ease;
  box-shadow:0 8px 20px rgba(0,0,0,0.35);
  position:relative;
}
/* Car Emoji */
.spot i{
  font-size:42px;
  margin-bottom:6px;
  opacity:0.4;
  transition:all 0.3s ease;
}
/* Free */
.free i{
  opacity:0.35;
}
/* Busy */
.free i{
  opacity:1;
  transform:scale(1.25);
  color:#064e3b;
}
/* Free Slot */
.free{
  background:linear-gradient(145deg,#334155,#475569);
  color:#e5e7eb;
}
.free::before{
  opacity:0.35;
}
/* Busy Slot */
.free{
  background:linear-gradient(145deg,#4ade80,#22c55e);
  color:#f0fdf4;
  box-shadow:0 0 14px rgba(74,222,128,0.45);
  transform:scale(1.04);
}
.free::before{
  opacity:1;
  transform:scale(1.2);
}
/* Hover */
.spot:hover{
  transform:translateY(-6px);
}
/* ===== Cards ===== */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:28px;
  margin-top:55px;
}
.card{
  background:linear-gradient(145deg,#020617,#0f172a);
  padding:26px;
  border-radius:20px;
  box-shadow:0 10px 25px rgba(0,0,0,0.55);
  transition:0.3s;
}
.card:hover{
  transform:translateY(-6px);
}
.card h3{
  margin-top:0;
  margin-bottom:16px;
  color:#38bdf8;
  font-size:18px;
  letter-spacing:0.5px;
}
.card p{
  margin:8px 0;
  font-size:15px;
}
/* Highlighted Values */
#gate,
#cid,
#ctime,
#cprice{
  font-weight:600;
  color:#fbbf24;
}
/* ===== Footer ===== */
.footer{
  background:#020617;
  text-align:center;
  padding:16px;
  font-size:14px;
  color:#94a3b8;
  box-shadow:0 -4px 14px rgba(0,0,0,0.45);
}
.footer span{
  color:#38bdf8;
  font-weight:600;
}
</style>
</head>
<body>
<!-- ===== Header ===== -->
<div class="header">
  <div class="logo">ðŸ§¢</div>
  <h1>SmurfZone Parking</h1>
</div>
<!-- ===== Content ===== -->
<div class="container">
  <div class="spots">
<div id="s1" class="spot free">
  <i class="fas fa-car"></i>
  Spot 1
</div>
<div id="s2" class="spot free">
  <i class="fas fa-car"></i>
  Spot 2
</div>
<div id="s3" class="spot free">
  <i class="fas fa-car"></i>
  Spot 3
</div>
<div id="s4" class="spot free">
  <i class="fas fa-car"></i>
  Spot 4
</div>
  </div>
  <div class="cards">
    <div class="card">
      <h3>Gate Status</h3>
      <p id="gate">Closed</p>
    </div>
    <div class="card">
      <h3>Last Car</h3>
      <p>ID: <span id="cid">4</span></p>
      <p>Time: <span id="ctime">49</span> sec</p>
      <p>Price: <span id="cprice">100</span> EGP</p>
    </div>
  </div>
</div>
<!-- ===== Footer ===== -->
<div class="footer">
  Â© ZAKY <span>SmurfZone</span> Smart Parking System
</div>
<script>
async function update(){
  let r = await fetch("/data");
  let d = await r.json();
  for(let i=1;i<=4;i++){
    let s=document.getElementById("s"+i);
    s.className = d.spots[i-1] ? "spot busy" : "spot free";
  }
  document.getElementById("gate").innerText = d.gate;
  document.getElementById("cid").innerText = d.lastCarID;
  document.getElementById("ctime").innerText = d.lastTime;
  document.getElementById("cprice").innerText = d.lastPrice;
}
setInterval(update,1000);
update();
</script>
</body>
</html>
